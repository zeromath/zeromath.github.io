<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>[4068] 闲谈世上最难的逻辑问题 | ZeroMath</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="首先声明这并不是一篇标题党的文章，标题中的“世上最难”不是我说的，是 wikipedia 说的。故事的开始是苦逼的博士狗们一起赶作业，然后尘锐案突然就把这个东西搬了出来，然后大家瞬间两眼放光，纷纷抛弃了作业……当然主要的讨论都是由Y. Huang和尘锐案进行的，我只是听懂并且理解了他们的做法，不过实在是很有意思，所以记录一下.">
<meta property="og:type" content="article">
<meta property="og:title" content="[4068] 闲谈世上最难的逻辑问题">
<meta property="og:url" content="http://example.com/2019/03/04/hardest-logic-puzzle-ever/index.html">
<meta property="og:site_name" content="ZeroMath">
<meta property="og:description" content="首先声明这并不是一篇标题党的文章，标题中的“世上最难”不是我说的，是 wikipedia 说的。故事的开始是苦逼的博士狗们一起赶作业，然后尘锐案突然就把这个东西搬了出来，然后大家瞬间两眼放光，纷纷抛弃了作业……当然主要的讨论都是由Y. Huang和尘锐案进行的，我只是听懂并且理解了他们的做法，不过实在是很有意思，所以记录一下.">
<meta property="og:locale">
<meta property="article:published_time" content="2019-03-05T00:11:39.000Z">
<meta property="article:modified_time" content="2019-08-02T23:29:15.000Z">
<meta property="article:author" content="ZERO">
<meta property="article:tag" content="Math">
<meta property="article:tag" content="Logic">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="ZeroMath" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">ZeroMath</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="Feed RSS"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Cerca"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Cerca"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-hardest-logic-puzzle-ever" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/03/04/hardest-logic-puzzle-ever/" class="article-date">
  <time class="dt-published" datetime="2019-03-05T00:11:39.000Z" itemprop="datePublished">2019-03-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Math/">Math</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      [4068] 闲谈世上最难的逻辑问题
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>首先声明这并不是一篇标题党的文章，标题中的“世上最难”不是我说的，是 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/The_Hardest_Logic_Puzzle_Ever">wikipedia</a> 说的。故事的开始是苦逼的博士狗们一起赶作业，然后<a target="_blank" rel="noopener" href="https://www.zhihu.com/people/SFLiana/activities">尘锐案</a>突然就把这个东西搬了出来，然后大家瞬间两眼放光，纷纷抛弃了作业……当然主要的讨论都是由<a target="_blank" rel="noopener" href="https://www.zhihu.com/people/y-huang-97/activities">Y. Huang</a>和<a target="_blank" rel="noopener" href="https://www.zhihu.com/people/SFLiana/activities">尘锐案</a>进行的，我只是听懂并且理解了他们的做法，不过实在是很有意思，所以记录一下.</p>
 <span id="more"></span>

<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>世上存在三个神，分别是 True 神，False 神和 Random 神。其中</p>
<ul>
<li>True 神只说真话</li>
<li>False 神只说假话</li>
<li>Random 神每次在听完问题后，抛一枚硬币来决定说真话还是说假话</li>
</ul>
<p>它们现在就在你面前，但是你不知道哪个神是哪个神。你有三次机会来试探，每次机会你可以说出一个 statement，并找其中一位神来给出判断 (T&#x2F;F)。 神总是能听懂你的语言，并给出按照它设定的回答，但是它会用自己的语言来回答，它会回答 X 或 Y 。你知道其中一个代表 T，另一个代表 F，但是并不知道哪个代表哪个。</p>
<p><strong>问题来了：你能在用完三次机会后，判断出三位神各自的身份吗？</strong></p>
<h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><p>答案是：可以。</p>
<p>甚至我们可以做到更强：每次都可以随机问一个神（特别的，可以做到每次都问同一个神，或者依次问完所有神）。事实上，我们有如下定理</p>
<div class="theorem">Theorem
对于任意一个 statement $Q$，存在一个 statement $\mathrm{P}(Q)$，使得任意一位神对 $\mathrm{P}(Q)$ 给出的判断，在我们自己给定的翻译下，都是对 $Q$ 正确的判断。
</div>

<p>而这个 $\mathrm{P}(Q)$ 的存在性，是我们反推出来的。当时的情况是：<a target="_blank" rel="noopener" href="https://www.zhihu.com/people/y-huang-97/activities">Y. Huang</a>不知道从哪里知道了有这个定理，于是<ruby>我<rt>ta</rt></ruby><ruby>们<rt>yi</rt></ruby><ruby>一<rt>ge</rt></ruby><ruby>起<rt>ren</rt></ruby>把这个 $\mathrm{P}(Q)$ 推导了出来。事实上，考虑这样一个图：$Q\rightarrow \mathrm{P}(Q)\overset{\text{God}}{\rightarrow} \{\text{X,Y}\}\overset{\mathrm{I}}{\rightarrow} \{\text{T,F}\}$。这里，God 箭头表示神给出了判断，$\mathrm{I}$ 是我们自己对神的语言的解释，我们希望最后这个复合函数给出了 $Q$ 的判断，也就是说，我们希望如下的复合是一个恒等映射<br>$$\{\text{T,F}\}\overset{\mathrm{P}}{\rightarrow} \{\text{T,F}\}\overset{\text{God}}{\rightarrow} \{\text{X,Y}\}\overset{\mathrm{I}}{\rightarrow} \{\text{T,F}\}$$<br>所以我们有 $\mathrm{I}\circ \text{God }\circ \mathrm{P} &#x3D;\mathrm{id}$，我们对 God 函数唯一知道的事情是：它是一个双射。也就是说，它一定会把 T 映射到 X,Y 中的一个，然后把 F 映射到另一个。所以我们可以写下如下等式：$\mathrm{P}&#x3D;\text{God}^{-1}\circ \mathrm{I}^{-1}$</p>
<p>我们好像几乎做完了（因为找到了 $\mathrm{P}$ 的表达式），但是又好像什么都没做（$\text{God}^{-1}$ 是个什么鬼！）</p>
<p>我们作如下观察：</p>
<ol>
<li>$\mathrm{I}$ 是我们<em>自己选择</em>的解释，所以我们可以给出自己的规定，比如：$\mathrm{I}(\text{X})&#x3D;\text{F},\mathrm{I}(\text{Y})&#x3D;\text{T}$。也就是说，God 说 X，我们就认为它说 F；God 说 Y，我们就认为它说 T。</li>
<li>假如 $\mathrm{I}\circ \text{God }\circ \mathrm{P}$ 把 T 映射到 T ，那么它已经是个恒等映射了。因为每一步都是双射，而一共只有两个元素，只要一个元素对，另一个元素就一定是正确的。</li>
</ol>
<p>所以我们只需要 $\text{God}\circ \mathrm{P}(\text{T})&#x3D;\mathrm{I}^{-1}(\text{T})&#x3D;\text{Y}$，下面是睁大眼睛的时刻：</p>
<p>假如 $\mathrm{P}(\text{T})$ 是 true statement， 也即 $\mathrm{P}(\text{T})&#x3D;\text{T}$，我们有如下等价<br>$$\mathrm{P}(\text{T})\Leftrightarrow \mathrm{P}(\text{T})&#x3D;\text{T} \Leftrightarrow \text{God}(\mathrm{P}(\text{T}))&#x3D;\text{God}(\text{T}) \Leftrightarrow \text{Y}&#x3D;\text{God}(\text{T})$$<br>所以！$\mathrm{P}(\text{T})$ 这个 statement 就是在说 $\text{God}(\text{T})&#x3D;\text{Y}$，翻译一下就是：你对 truth 的判断是 Y。</p>
<p>我们来考虑一下真值表，假设神的语言是 X 代表 T，Y 代表 F:</p>
<ul>
<li>假如是 True 神，那么对它来说： truth 的判断是 X。所以我们的 statement 是假的，从而它要说Y。经过我们的解释函数 $\mathrm{I}$，我们得到了回答 T。</li>
<li>假如是 False 神，那么对它来说：truth 的判断是 Y。所以我们的 statement 是真的，从而它要说Y。经过我们的解释函数 $\mathrm{I}$，我们得到了回答 T。</li>
</ul>
<p>现在我们可以把 T 换成我们想要的任何 statement $Q$ 了。比如，$Q$ &#x3D; 你是 True 神。延续上面的语言设定（X for T，Y for F），那么我们问神的 statement 是：你对“你是 True 神”的判断是 Y，然后</p>
<ul>
<li>假如是 True 神，那么 $Q&#x3D;\text{T}$，根据我们上面的分析，我们可以得到 T 的回答，注意这个 T 是针对 $Q$ 的判断，所以我们知道这个神就是 True 神</li>
<li>假如是 False 神，那么 $Q&#x3D;\text{F}$，所以它对 $Q$ 的判断是 X。再看我们的 statement，发现我们的 statement 也是假的，所以它要说反话，从而给出 X 的回答，而我们的翻译（注意这里是 $\mathrm{I}$ 函数而不是上面的语言设定）说 X 代表 F，所以这个不是 True 神</li>
<li>假如是 Random 神，那么 $Q&#x3D;\text{F}$。假如它选择说假话，那么和 False 神一样的推出它的回答是 X ；假如它选择说真话，那么它对 $Q$ 的判断是 Y，从而我们的 statement 是对的，所以它会说 X。但是解释函数告诉我们，这意味着 $Q$ 是假的，所以这个也不是 True 神！<br>我们看到，只有 True 神会给出 T 的回答，其余都是 F，所以接下来我们只要一个个问就行了。</li>
</ul>
<div class="theorem">Remark
我们可以看到，我们的提问方式保证了不仅仅可以无视问的是哪位神（因为总是可以得到正确的回答），而且不依赖神的语言！即使说神互相之间的语言也可以是不一样的，比如 True 神对 T 说 X，Random 神对 F 说 X，而我们可能两个神都会问到，甚至用同一个解释函数 $\mathrm{I}$ 去解释它们的回答，我们仍然可以得到正确的答案！
</div>


<h2 id="推广问题"><a href="#推广问题" class="headerlink" title="推广问题"></a>推广问题</h2><p>上述问题中，Random 神是在回答问题前，选择接受 True 神或者 False 神的设定，再作回答。可以看到我们的答案完全可以忽略 Random 神，因为当它抛完硬币后，它就被归到 True 神或者 False 神的情况里。所以呢，Random 神很不高兴，现在它要秀一下存在感：它决定通过抛硬币来决定它的回答（而不是回答方式）！也就是说，每次 Random 神给出的判断完全就是抛硬币的结果，而和你问什么完全没有关系。它完全不给出任何信息量。现在还是三次机会问三个神，请问：你还可以找到一个方法区分这三位神吗？</p>
<h2 id="尝试解答"><a href="#尝试解答" class="headerlink" title="尝试解答"></a>尝试解答</h2><p>在 Random 神决定再也不当它们中的任何一个后，它就彻底不提供任何信息量了。那我们该怎么办呢？<br>注意：以下所有提问，均指用 $\mathrm{P}$ 函数包装过后再提问，就是当我们说提问 $Q$ 的时候，实际上我们在问 $\mathrm{P}(Q)$。</p>
<p>我们把三个神标注成 A、B、C，考虑问 A 神这样一个 statement：“B 是 Random 神”，会发生什么？</p>
<ul>
<li>假如 A 是 True&#x2F;False 神，B 不是 Random 神，那么 A 会告诉你：F</li>
<li>假如 A 是 True&#x2F;False 神，B 是 Random 神，那么 A 会告诉你：T</li>
<li>假如 A 是 Random 神，那么 A 会告诉你：F 或者 T</li>
</ul>
<p>有人说，这有啥用啊？T 和 F 都会出现，你还是啥都不知道啊？且慢，让我们仔细分析一下。假如答案是 T，那么只可能是</p>
<ul>
<li>A 是 Random 神</li>
<li>A 是 True&#x2F;False 神，B 是 Random 神</li>
</ul>
<p>无论哪种情况下，C 神都不是 Random 神！同理假如答案是 F，那么可以得出 B 神一定不是 Random 神！所以无论怎样，你都可以确定某一位不是 Random 神，接下来，只要对那位不是 Random 神的神问两问题：</p>
<ol>
<li>谁是 Random 神</li>
<li>你是什么神</li>
</ol>
<p>就可以了。具体怎么问，大家可以自己思考一下。</p>
<h2 id="更变态的版本"><a href="#更变态的版本" class="headerlink" title="更变态的版本"></a>更变态的版本</h2><p>我们看到，上面的解决方案依赖两点：</p>
<ul>
<li>你不能只问一个神</li>
<li>你可以问同一个神两个问题</li>
</ul>
<p>那就自然想到，能不能给这些东西加上限制：</p>
<p>首先想到的限制是：能不能只提问一个神？而这个限制显然是不可能的，因为运气不好可能正好抽到只提问 Random 神，那么无论你怎么发问都无法得出任何有效信息，此题无解。</p>
<p>那么第二个可能的限制是：能不能强制要求依次提问三个神（也即每次必须询问不同的神）？我们几个的 naive 想法是：不行，因为第一个问题只能确定 $0.5$ 个神的身份（也即是其中一个神不是 Random 神）。接下来我们必须利用这个神不是 Random 神这一点来拷问得到所有信息。假如必须依次提问，可能出现两种情况：</p>
<ol>
<li>先问 Random 神，再问 True&#x2F;False 神，最后问 False&#x2F;True 神。</li>
<li>先问 True&#x2F;False 神，再问 False&#x2F;True 神，最后问到了 Random 神。</li>
</ol>
<p>第一种情况自然皆大欢喜，你从一个本来不能获得任何信息的 Random 神那里获得了信息，所以绝对是可以完成任务的。但是第二种情况就有点无解了，最后一个问题没有办法给出更多的信息了。</p>
<p>一个具体的情形如：A 是 True 神，B 是 False 神，C 是 Random 神。我们先问了 A：B 是 Random 神吗？得到 F 回答，于是确定 B 不是 Random 神，接下来问 B：C 是 Random 神吗？（或者 A 是 Random 神吗？），得到回答可以让我们确定 C 是 Random 神，A 和 B 是 True&#x2F;False 神。但是最后一个问题要问 C，而这种情况下我们是没有办法获得对 A 和 B 的信息的。</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><ol>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/The_Hardest_Logic_Puzzle_Ever">The Hardest Logic Puzzle Ever</a></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2019/03/04/hardest-logic-puzzle-ever/" data-id="cm3lzkdtn000d0xu6cpdh6ttw" data-title="[4068] 闲谈世上最难的逻辑问题" class="article-share-link"><span class="fa fa-share">Condividi</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Logic/" rel="tag">Logic</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Math/" rel="tag">Math</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/03/05/hexo-github5/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Nuovi</strong>
      <div class="article-nav-title">
        
          [Hexo] 在 GitHub 上搭建博客 (5)
        
      </div>
    </a>
  
  
    <a href="/2019/03/03/topology-prime-numbers/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Vecchi</strong>
      <div class="article-nav-title">拓扑与素数</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categorie</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Hexo/">Hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Math/">Math</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Algebraic-Geometry/" rel="tag">Algebraic Geometry</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GitHub/" rel="tag">GitHub</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Logic/" rel="tag">Logic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Math/" rel="tag">Math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Topology/" rel="tag">Topology</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Algebraic-Geometry/" style="font-size: 10px;">Algebraic Geometry</a> <a href="/tags/GitHub/" style="font-size: 20px;">GitHub</a> <a href="/tags/Hexo/" style="font-size: 20px;">Hexo</a> <a href="/tags/Logic/" style="font-size: 10px;">Logic</a> <a href="/tags/Math/" style="font-size: 15px;">Math</a> <a href="/tags/Topology/" style="font-size: 10px;">Topology</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archivio</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/1969/12/">December 1969</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Post Recenti</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/03/05/bezout-theorem-and-pascal-theorem/">贝祖定理和帕斯卡定理</a>
          </li>
        
          <li>
            <a href="/2019/03/05/hexo-github5/">[Hexo] 在 GitHub 上搭建博客 (5)</a>
          </li>
        
          <li>
            <a href="/2019/03/04/hardest-logic-puzzle-ever/">[4068] 闲谈世上最难的逻辑问题</a>
          </li>
        
          <li>
            <a href="/2019/03/03/topology-prime-numbers/">拓扑与素数</a>
          </li>
        
          <li>
            <a href="/2017/03/22/hexo-github4/">[Hexo] 在 GitHub 上搭建博客 (4)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 ZERO<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>